//Fonctions
var chanel_div = document.getElementsByClassName("chanel")[0];

function add_chanel_div(nom, id, description, owner, position){
  var nouveau_chanel = document.getElementById("chanels_list").appendChild(chanel_div.cloneNode(true));//true -> true|false -> copier les éléments "enfants"
  $(nouveau_chanel).css("display", "block");//La nouvelle div est affichée
  nouveau_chanel.setAttribute("id", "chanel_"+id);//Un ID est donné au nouveau chanel
  nouveau_chanel.children[0].innerHTML = nom;//Et le nom est définit ( <h3> est le premier enfant de la div )
  nouveau_chanel.children[2].value = description;
  nouveau_chanel.children[3].value = owner;
  nouveau_chanel.children[4].value = position;
}
//Socket.io
const socket = io();
socket.emit("get_chanel_list", (reponse) =>{
  for(var i=0; i<reponse.result.length; i++){
    add_chanel_div(reponse.result[i].name, reponse.result[i].id, reponse.result[i].subject, reponse.result[i].owner, reponse.result[i].position);
  }
});
