<html>
	<head>
		<title>MODIFIER</title>
		<link rel="stylesheet" type="text/css" href="/style">
    <link rel="stylesheet" type="text/css" href="/style/app">
    <meta name="viewport" content="width=device-width,initial-scale=1">
	</head>
	<body>

    <div class="server_div grey" id="server_div">
      <a href="#"><img src="/img/gear.png" id="server_settings_img" class="settings_img"></a><!-- https://pixabay.com/fr/vectors/gear-param%C3%A8tres-options-ic%C3%B4ne-1077550/ -->
    </div>

    <div class="chanel_list grey" id="chanel_list">
      <a href="/app/chanels_admin"><img src="/img/gear.png" id="chanel_settings_img" class="settings_img"></a>

			<!-- Liste des chanels -->

			<div class="chanel">
				<h5 class="chanel_name">Channel 1</h5>
				<img src="/img/keyboard.png" class="text_chanel_image">
			</div>

			<div class="chanel">
				<h5 class="chanel_name">Channel 2</h5>
				<img src="/img/keyboard.png" class="text_chanel_image">
			</div>



    </div>

    <div class="chanel_infos grey" id="chanel_infos">
    </div>

    <div class="central_div" align="right">
    </div>

    <div class="online_list grey" id="online_list">
    </div>

    <div class="user_area grey" id="user_area">
      <h3 id="username"><%= pseudo %></h3>
    </div>

    <div class="extend_chanels_panel" id="extend_chanels_panel">
      <img src="/img/animation_arrow.png" class="animation_arrow"><!-- https://pixabay.com/fr/illustrations/fl%C3%A8che-r%C3%A9pertoire-panneaux-2085195/ -->
    </div>

    <div class="extend_online_panel" id="extend_online_panel">
      <img src="/img/animation_arrow.png" class="animation_arrow">
    </div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script type="text/javascript">

			const div_chanels_panel = document.querySelector('#extend_chanels_panel');//Carrés avec les flèches, un click dessus permet de lancer l'animation
			const div_online_panel = document.querySelector('#extend_online_panel');

			var chanels_extended = false;
			var online_extended = false;

			div_chanels_panel.addEventListener('click', event => {

				if(online_extended){//Si le panel de droite est ouvert, je le referme
					$('#online_list').animate({"left":"100%"}, 2000);
					$('#extend_online_panel').animate({"left":"90%", "right":"0%"}, 2000);
					online_extended = false;
				}

				if(chanels_extended){//Fermeture du panel de gauche
					$('#server_div, #chanel_list, #user_area').animate({"right":"100%"}, 2000);
					$('#extend_chanels_panel').animate({"right":"90%", "left":"0%"}, 2000);
					$('#chanel_infos').animate({"bottom":"90%"}, 2000);
					chanels_extended = false;
				}else{//Ouverture du panel de gauche
					$('#server_div, #chanel_list, #user_area').animate({"right":"20%"}, 2000);
					$('#extend_chanels_panel').animate({"right":"10%", "left":"80%"}, 2000);
					$('#chanel_infos').animate({"bottom":"100%"}, 2000);
					chanels_extended = true;
				}

			});

			div_online_panel.addEventListener('click', event => {

  			if(chanels_extended){//Si le panel de gauche est ouvert, je le referme
					$('#server_div, #chanel_list, #user_area').animate({"right":"100%"}, 2000);//animate(Dico des propriétés CSS à changer, durée en ms)
					$('#extend_chanels_panel').animate({"right":"90%", "left":"0%"}, 2000);
					chanels_extended = false;
				}

				if(online_extended){//Fermeture du panel de droite
					$('#online_list').animate({"left":"100%"}, 2000);
					$('#extend_online_panel').animate({"left":"90%", "right":"0%"}, 2000);
					$('#chanel_infos').animate({"bottom":"90%"}, 2000);
					online_extended = false;
				}else{//Ouverture du panel de droite
					$('#online_list').animate({"left":"20%"}, 2000);
					$('#extend_online_panel').animate({"left":"10%", "right":"80%"}, 2000);
					$('#chanel_infos').animate({"bottom":"100%"}, 2000);
					online_extended = true;
				}

			});

		</script>

	</body>
</html>
